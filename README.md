<div align="center">
<h1 align="center">
<img src="static/favicon.webp" width="100" />
<br>Compass-HG
</h1>
<h2>‚ó¶ Report to IT with tickets</h2>
</div>

---

### Developed with the software and tools listed below :

<p align="center">
<img src="https://img.shields.io/badge/Vercel-CCCCCC.svg?style&logo=Vercel&logoColor=black" alt="Vercel" />
<img src="https://img.shields.io/badge/Sveltekit-EEEEEE.svg?style&logo=Svelte&logoColor=#FF3E00" alt="Sveltekit" />
<img src="https://img.shields.io/badge/Typescript-3178C6.svg?style&logo=Typescript&logoColor=white" alt="Typescript" />
<img src="https://img.shields.io/badge/Node.js-339933.svg?style&logo=Node.js&logoColor=white" alt="Node.js" />
<img src="https://img.shields.io/badge/Drizzle ORM-EEEEEE.svg?style&logo=data:image/png;base64,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&logoColor=#F68D2E" alt="Drizzle ORM" />
<img src="https://img.shields.io/badge/SQlite-58ACDE.svg?style&logo=SQlite&logoColor=white" alt="SQlite" />
<img src="https://img.shields.io/badge/AuthJS-911CD8.svg?style&logo=data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNzE4NzUgMy45Mjk3MkM1LjYyNzg5IDMuMzY3MzMgOC40NTU2OCAyLjUyNDExIDkuNjQ4MjggMi4xNjgxMkMxMC4wMTczIDIuMDU3OTcgMTAuNDA3NSAyLjA1NzExIDEwLjc3NzEgMi4xNjUzM0MxMS45MjYgMi41MDE3MyAxNC41OTg0IDMuMjg3ODMgMTYuNjY0OCAzLjkyMzQ5QzE3LjA4MjggNC4wNTIwOSAxNy4zNjc5IDQuNDQ1OTMgMTcuMzU3NSA0Ljg4MzE5QzE3LjExODggMTQuOTg2NyAxMi4wMTk2IDE3LjQxMDUgMTAuNTg0MiAxNy44OTM2QzEwLjMzODggMTcuOTc2MiAxMC4wODM3IDE3Ljk3NjQgOS44MzgwMiAxNy44OTQ1QzguMzk1NjcgMTcuNDEzNyAzLjI1NDIxIDE0Ljk5NTEgMy4wMDkwNyA0Ljg5NzE0QzIuOTk4MyA0LjQ1MzE3IDMuMjkyNzYgNC4wNTUyMSAzLjcxODc1IDMuOTI5NzJaIiBmaWxsPSIjRDlEOUQ5Ii8+CjxtYXNrIGlkPSJtYXNrMF8xNTZfMjUyIiBzdHlsZT0ibWFzay10eXBlOmFscGhhIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIzIiB5PSIyIiB3aWR0aD0iMTUiIGhlaWdodD0iMTYiPgo8cGF0aCBkPSJNMy43MTg3NSAzLjkyOTcyQzUuNjI3ODkgMy4zNjczMyA4LjQ1NTY4IDIuNTI0MTEgOS42NDgyOCAyLjE2ODEyQzEwLjAxNzMgMi4wNTc5NyAxMC40MDc1IDIuMDU3MTEgMTAuNzc3MSAyLjE2NTMzQzExLjkyNiAyLjUwMTczIDE0LjU5ODQgMy4yODc4MyAxNi42NjQ4IDMuOTIzNDlDMTcuMDgyOCA0LjA1MjA5IDE3LjM2NzkgNC40NDU5MyAxNy4zNTc1IDQuODgzMTlDMTcuMTE4OCAxNC45ODY3IDEyLjAxOTYgMTcuNDEwNSAxMC41ODQyIDE3Ljg5MzZDMTAuMzM4OCAxNy45NzYyIDEwLjA4MzcgMTcuOTc2NCA5LjgzODAyIDE3Ljg5NDVDOC4zOTU2NyAxNy40MTM3IDMuMjU0MjEgMTQuOTk1MSAzLjAwOTA3IDQuODk3MTRDMi45OTgzIDQuNDUzMTcgMy4yOTI3NiA0LjA1NTIxIDMuNzE4NzUgMy45Mjk3MloiIGZpbGw9IiNEOUQ5RDkiLz4KPC9tYXNrPgo8ZyBtYXNrPSJ1cmwoI21hc2swXzE1Nl8yNTIpIj4KPHBhdGggZD0iTTEwLjIxMTIgOS43NzQ2NUwxMC4wOTg2IDEuNzE4MzFMMTcuODE2OSAzLjgwMjgyTDEwLjIxMTIgOS43NzQ2NVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xNTZfMjUyKSIvPgo8cGF0aCBkPSJNMTAuMjExMyA5Ljc3NDY1VjJMMi44MzA5OCAzLjk3MTgzTDEuODE2ODkgOC43NjA1Nkw1LjAyODE2IDEzLjc3NDZMMTAuMjExMyA5Ljc3NDY1WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzE1Nl8yNTIpIi8+CjxwYXRoIGQ9Ik0xNy41OTE1IDMuOTcxODNMNC45MTU0NyAxMy43NzQ2VjE4LjIyNTRIMTcuNDIyNUwxNy41OTE1IDMuOTcxODNaIiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfMTU2XzI1MikiLz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzE1Nl8yNTIiIHgxPSIxMC4yMTEyIiB5MT0iMiIgeDI9IjE1LjYxOTciIHkyPSI1LjU0OTMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzE5QUFFOCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxRUE1RjEiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzE1Nl8yNTIiIHgxPSIzLjA1NjMzIiB5MT0iNC4xNDA4NSIgeDI9IjEwLjIxMTMiIHkyPSI5LjY2MTk3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiMyQkUyQjgiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMTlCOUUzIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8xNTZfMjUyIiB4MT0iMTcuMzA5OCIgeTE9IjQuMDI4MTciIHgyPSI3Ljk1NzcyIiB5Mj0iMTYuOTg1OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjOTI1Q0RGIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0NDNDJFNSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo=&logoColor=white" alt="SQlite" />
</p>

## üìí Table of Contents

- [üìç R√©sum√©](#-r√©sum√©)
- [üõ†Ô∏è Outils et services](#Ô∏è-outils-et-services)
- [üìö Documentation](#-documentation)

---

## üìç R√©sum√©

Compass-HG est une application web pour g√©rer les tickets destin√© au service informatique. Elle permet de cr√©er des tickets.

## üõ†Ô∏è Outils et services

### [Vercel](https://vercel.com/)

> [Documentation](https://vercel.com/docs)

Vercel est une plateforme de d√©ploiement pour les applications statiques et les fonctions serverless. Elle permet de d√©ployer des applications en quelques secondes.

### [Sveltekit](https://kit.svelte.dev/)

> [Documentation](https://kit.svelte.dev/docs)

Sveltekit est un framework pour svelte. Il permet de cr√©er des applications web avec svelte. Il permet de g√©rer les routes, les pages, les composants et les stores. Il a aussi plusieurs outils pour g√©rer les d√©pendances, les tests et le d√©ploiement.

### [Drizzle ORM](https://orm.drizzle.team/)

> [Documentation](https://orm.drizzle.team/docs/quick-start)

Drizzle ORM est un orm pout typescript. Il ce veux √™tre proche de sql dans son utilisation. Il permet de g√©rer les tables, les relations et les requ√™tes. Il a aussi plusieurs outils pour g√©rer les migrations et manager la base de donn√©e avec un gui.

### [AuthJS](https://authjs.dev/reference/sveltekit?utm_source=auth.js.org)

> [Documentation](https://authjs.dev/reference/sveltekit?utm_source=auth.js.org)

AuthJS est une librairie pour g√©rer l'authentification. Elle permet de g√©rer les utilisateurs, les sessions et d'utiliser des providers externes ainsi que d'utiliser un base de donn√©e.

## üìö Documentation

### Deployment

#### Besoin

- Compte [github](https://github.com/).
- Compte [vercel](https://vercel.com/) (avec le compte github).
- Compte [turso](https://turso.tech/app) (avec le compte github).

#### Etapes

1. Forker le [projet](https://github.com/Bafbi/compass-hg) sur github.
2. Ce connecter sur [azure-portal](https://portal.azure.com/#view/Microsoft_AAD_IAM/StartboardApplicationsMenuBlade/~/AppAppsPreview) et cr√©er une [application](https://learn.microsoft.com/en-us/graph/auth-register-app-v2).
3. Garder de cot√© le `client id` et le `client secret` et `tenant id`.
4. Rajouter les [access](https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationMenuBlade/~/CallAnAPI/appId/bfffc249-8043-439c-8ac9-2ed36f04a677/isMSAApp~/false) au graph api (`user.read`, `mail.send`).
5. Installer [turso cli](https://docs.turso.tech/tutorials/get-started-turso-cli/step-01-installation) sur [wsl](https://learn.microsoft.com/en-us/windows/wsl/install) (ou linux/macos).
6. Cr√©er la base de donn√©e avec [turso cli](https://docs.turso.tech/tutorials/get-started-turso-cli/step-02-sign-up) et [g√©n√©rer](https://docs.turso.tech/reference/turso-cli#database-client-authentication-tokens) un token.
7. Garder de cot√© le `url` et le `token` de la base de donn√©e.
8. Setup les tables :

```bach
turso db shell [db name] < [path to sql file]
```

8. [Cr√©er](https://docs.turso.tech/tutorials/vercel-setup-guide#alternative-manual-deployment) un projet sur vercel avec le fork.
   - Utiliser les variables d'environnement du fichier `.env.example`.
   - La variable `SECRET` est a remplir avec un [g√©n√©rateur](https://generate-secret.vercel.app/).

### Development

#### Recommand√©

- Apprendre [sveltekit](https://kit.svelte.dev/docs/introduction).
- Apprendre [typescript](https://www.typescriptlang.org/docs/handbook/intro.html).
- Regarder [drizzle orm](https://orm.drizzle.team/docs/quick-start).
- Regarder [authjs](https://authjs.dev/reference/sveltekit?utm_source=auth.js.org).
- Regarder [superform](https://superforms.rocks/get-started).
- Regarder [tailwindcss](https://tailwindcss.com/docs).

#### Setup

1. Cloner le fork en local.
2. Copier le fichier `.env.example` en `.env` et remplir les variables.
   - La variable `DATABASE_URL` peux etre remplie avec un fichier sqlite ou en utilisant le [turso cli](https://docs.turso.tech/reference/turso-cli#embedded-sqld).
   ```bash
   turso dev -f [path to save file]
   ```
3. Installer les d√©pendances :

```bash
pnpm install
```

4. Lancer le serveur :

```bash
pnpm dev
```

- Si les `schema` de la base de donn√©e change, il faut les mettre a jour :

```bash
pnpm generate
```

- Un outils pour voir la base de donn√©e :

```bash
pnpm studio
---
DATABASE_URL="..." DATABASE_AUTH_TOKEN="..." pnpm studio
```
